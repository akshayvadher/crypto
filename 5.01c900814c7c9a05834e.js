(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{QYJG:function(e,t,r){"use strict";r.r(t),r.d(t,"DecryptModule",(function(){return u}));var o=r("ofXK"),n=r("tyNb"),i=r("mrSG"),l=r("3Pt+"),a=r("NFKh"),c=r("uj4K"),d=r("Iab2"),b=r("fXoL");const s=[{path:"",component:(()=>{class e{constructor(e){this.formBuilder=e,this.form=this.formBuilder.group({inputSelection:[{value:"file",disabled:!0},[l.l.required]],fileInputName:["",l.l.required],algo:[{value:"AES",disabled:!0}],password:["",[this.passwordValidator]]})}ngOnInit(){}onSubmit(){return Object(i.a)(this,void 0,void 0,(function*(){try{const e=yield this.readFileAndDownload(),t=this.decryptContent(e);t?this.downloadFile(t):this.error()}catch(e){this.error()}}))}error(){alert("Could not decrypt.Multliple possibilites, file is not encrypted, encrypted with different algorith, file is corrupted, file is blank.")}onFileChange(e){this.file=e.target.files[0],this.form.get("fileInputName").setValue(this.file?this.file.name:"")}readFileAndDownload(){return new Promise((e,t)=>{const r=new FileReader;r.onload=t=>{const r=t.target.result.toString();e(r)},r.onerror=()=>t(),r.readAsText(this.file)})}decryptContent(e){return a.AES.decrypt(e,this.form.get("password").value).toString(a.enc.Utf8)}downloadFile(e){const t=new Blob([e],{type:"text/plain;charset=utf-8"});Object(d.saveAs)(t,this.file.name+"-decrypted.txt")}passwordValidator(e){return new c.PasswordPolicy({length:{minLength:6}}).check(e.value)?null:{notValid:!0}}}return e.\u0275fac=function(t){return new(t||e)(b.Hb(l.b))},e.\u0275cmp=b.Bb({type:e,selectors:[["app-decrypt"]],decls:46,vars:2,consts:[[1,"col-md-6",3,"formGroup","submit"],[1,"form-group"],[1,"form-check","form-check-inline"],["type","radio","formControlName","inputSelection","id","encrypt-input-file","value","file",1,"form-check-input"],["for","encrypt-input-file",1,"form-check-label"],["type","radio","formControlName","inputSelection","id","encrypt-input-text","value","text",1,"form-check-input"],["for","encrypt-input-text",1,"form-check-label"],["for","encrypt-file-upload"],["type","file","id","encrypt-file-upload",1,"form-control-file",3,"change"],["type","hidden","formControlName","fileInputName"],["for","algo"],["formControlName","algo","id","algo",1,"form-control"],["value","AES"],["for","password"],["type","password","formControlName","password","id","password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-unlock"],[1,"fas","fa-download"],[1,"col-md-12"],["routerLink","/encrypt"]],template:function(e,t){1&e&&(b.Kb(0,"form",0),b.Rb("submit",(function(){return t.onSubmit()})),b.Kb(1,"h2"),b.dc(2,"Decrypt a file or text"),b.Jb(),b.Kb(3,"div",1),b.Kb(4,"label"),b.dc(5,"I want to decrypt"),b.Jb(),b.Ib(6,"br"),b.Kb(7,"div",2),b.Ib(8,"input",3),b.Kb(9,"label",4),b.dc(10,"File"),b.Jb(),b.Jb(),b.Kb(11,"div",2),b.Ib(12,"input",5),b.Kb(13,"label",6),b.dc(14,"Text"),b.Jb(),b.Jb(),b.Jb(),b.Kb(15,"div",1),b.Kb(16,"label",7),b.dc(17,"Upload file to decrypt"),b.Jb(),b.Kb(18,"input",8),b.Rb("change",(function(e){return t.onFileChange(e)})),b.Jb(),b.Ib(19,"input",9),b.Jb(),b.Kb(20,"div",1),b.Kb(21,"label",10),b.dc(22,"Algorithm"),b.Jb(),b.Kb(23,"select",11),b.Kb(24,"option",12),b.dc(25,"AES"),b.Jb(),b.Jb(),b.Jb(),b.Kb(26,"div",1),b.Kb(27,"label",13),b.dc(28,"Password"),b.Jb(),b.Ib(29,"input",14),b.Kb(30,"small"),b.dc(31," Should have 1 uppercase, 1 lowercase, 1 special char (!@#$%^& etc), 1 number "),b.Jb(),b.Jb(),b.Kb(32,"button",15),b.Ib(33,"span",16),b.dc(34," | "),b.Ib(35,"span",17),b.dc(36," | "),b.Kb(37,"span"),b.dc(38,"Download decrypted file"),b.Jb(),b.Jb(),b.Jb(),b.Kb(39,"div",18),b.Ib(40,"hr"),b.Kb(41,"p"),b.dc(42,"Click "),b.Kb(43,"a",19),b.dc(44,"here"),b.Jb(),b.dc(45," to encrypt"),b.Jb(),b.Jb()),2&e&&(b.Wb("formGroup",t.form),b.xb(32),b.Wb("disabled",!t.form.valid))},directives:[l.n,l.g,l.d,l.i,l.a,l.f,l.c,l.k,l.h,l.m,n.b],styles:[""]}),e})()}];let p=(()=>{class e{}return e.\u0275mod=b.Fb({type:e}),e.\u0275inj=b.Eb({factory:function(t){return new(t||e)},imports:[[n.c.forChild(s)],n.c]}),e})(),u=(()=>{class e{}return e.\u0275mod=b.Fb({type:e}),e.\u0275inj=b.Eb({factory:function(t){return new(t||e)},imports:[[o.b,p,l.j]]}),e})()}}]);
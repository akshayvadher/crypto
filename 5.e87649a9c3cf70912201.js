(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{QYJG:function(e,t,r){"use strict";r.r(t),r.d(t,"DecryptModule",(function(){return u}));var o=r("ofXK"),n=r("tyNb"),i=r("mrSG"),l=r("3Pt+"),b=r("NFKh"),a=r("uj4K"),s=r("Iab2"),c=r("fXoL");const d=[{path:"",component:(()=>{class e{constructor(e){this.formBuilder=e,this.form=this.formBuilder.group({inputSelection:[{value:"file",disabled:!0},[l.l.required]],fileInputName:["",l.l.required],algo:[{value:"AES",disabled:!0}],password:["",[this.passwordValidator]]})}ngOnInit(){}onSubmit(){return Object(i.a)(this,void 0,void 0,(function*(){try{const e=yield this.readFileAndDownload(),t=this.decryptContent(e);t?this.downloadFile(t):this.error()}catch(e){this.error()}}))}error(){alert("Could not decrypt.Multliple possibilites, file is not encrypted, encrypted with different algorith, file is corrupted, file is blank.")}onFileChange(e){this.file=e.target.files[0],this.form.get("fileInputName").setValue(this.file?this.file.name:"")}readFileAndDownload(){return new Promise((e,t)=>{const r=new FileReader;r.onload=t=>{const r=t.target.result.toString();e(r)},r.onerror=()=>t(),r.readAsText(this.file)})}decryptContent(e){return b.AES.decrypt(e,this.form.get("password").value).toString(b.enc.Utf8)}downloadFile(e){const t=new Blob([e],{type:"text/plain;charset=utf-8"});Object(s.saveAs)(t,this.file.name+"-decrypted.txt")}passwordValidator(e){return new a.PasswordPolicy({length:{minLength:6}}).check(e.value)?null:{notValid:!0}}}return e.\u0275fac=function(t){return new(t||e)(c.Hb(l.b))},e.\u0275cmp=c.Bb({type:e,selectors:[["app-decrypt"]],decls:46,vars:2,consts:[[1,"col-md-6",3,"formGroup","submit"],[1,"form-group"],[1,"form-check","form-check-inline"],["type","radio","formControlName","inputSelection","id","encrypt-input-file","value","file",1,"form-check-input"],["for","encrypt-input-file",1,"form-check-label"],["type","radio","formControlName","inputSelection","id","encrypt-input-text","value","text",1,"form-check-input"],["for","encrypt-input-text",1,"form-check-label"],["for","encrypt-file-upload"],["type","file","id","encrypt-file-upload",1,"form-control-file",3,"change"],["type","hidden","formControlName","fileInputName"],["for","algo"],["formControlName","algo","id","algo",1,"form-control"],["value","AES"],["for","password"],["type","password","formControlName","password","id","password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-unlock"],[1,"fas","fa-download"],[1,"col-md-12"],["routerLink","/encrypt"]],template:function(e,t){1&e&&(c.Kb(0,"form",0),c.Qb("submit",(function(){return t.onSubmit()})),c.Kb(1,"h2"),c.Xb(2,"Decrypt a file or text"),c.Jb(),c.Kb(3,"div",1),c.Kb(4,"label"),c.Xb(5,"I want to decrypt"),c.Jb(),c.Ib(6,"br"),c.Kb(7,"div",2),c.Ib(8,"input",3),c.Kb(9,"label",4),c.Xb(10,"File"),c.Jb(),c.Jb(),c.Kb(11,"div",2),c.Ib(12,"input",5),c.Kb(13,"label",6),c.Xb(14,"Text"),c.Jb(),c.Jb(),c.Jb(),c.Kb(15,"div",1),c.Kb(16,"label",7),c.Xb(17,"Upload file to decrypt"),c.Jb(),c.Kb(18,"input",8),c.Qb("change",(function(e){return t.onFileChange(e)})),c.Jb(),c.Ib(19,"input",9),c.Jb(),c.Kb(20,"div",1),c.Kb(21,"label",10),c.Xb(22,"Algorithm"),c.Jb(),c.Kb(23,"select",11),c.Kb(24,"option",12),c.Xb(25,"AES"),c.Jb(),c.Jb(),c.Jb(),c.Kb(26,"div",1),c.Kb(27,"label",13),c.Xb(28,"Password"),c.Jb(),c.Ib(29,"input",14),c.Kb(30,"small"),c.Xb(31," Should have 1 uppercase, 1 lowercase, 1 special char (!@#$%^& etc), 1 number "),c.Jb(),c.Jb(),c.Kb(32,"button",15),c.Ib(33,"span",16),c.Xb(34," | "),c.Ib(35,"span",17),c.Xb(36," | "),c.Kb(37,"span"),c.Xb(38,"Download decrypted file"),c.Jb(),c.Jb(),c.Jb(),c.Kb(39,"div",18),c.Ib(40,"hr"),c.Kb(41,"p"),c.Xb(42,"Click "),c.Kb(43,"a",19),c.Xb(44,"here"),c.Jb(),c.Xb(45," to encrypt"),c.Jb(),c.Jb()),2&e&&(c.Sb("formGroup",t.form),c.xb(32),c.Sb("disabled",!t.form.valid))},directives:[l.n,l.g,l.d,l.i,l.a,l.f,l.c,l.k,l.h,l.m,n.b],styles:[""]}),e})()}];let p=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(t){return new(t||e)},imports:[[n.c.forChild(d)],n.c]}),e})(),u=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(t){return new(t||e)},imports:[[o.b,p,l.j]]}),e})()}}]);